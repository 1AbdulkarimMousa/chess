<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Chess Compiler Project</title>
<script src="//unpkg.com/alpinejs" defer></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link href="style.css" rel="stylesheet"/>
<script src="app.js" ></script>
</head>
<body x-data="chessCompiler()" >
<h1 class="text-center my-4">Chess Project</h1>
<div class="container">
<!-- CHESS UI -->
<div class="chess-board">
<template x-for="row in [8, 7, 6, 5, 4, 3, 2, 1]">
<div class="d-flex">
<div class="row-label" x-text="row"></div>
<template x-for="col in ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']">
<div class="chess-tile"
x-bind:id="`${col}${row}`"
x-text="tileSymbol(col + row)"
:class="{
 'bg-success text-white': from === `${col}${row}` && p1.find(p => p.position === `${col}${row}`),
 'bg-primary text-white': from === `${col}${row}` && p2.find(p => p.position === `${col}${row}`),
 'bg-light': from !== `${col}${row}` && (col.charCodeAt(0) - 97 + row) % 2,
 'bg-dark text-white': from !== `${col}${row}` && !(col.charCodeAt(0) - 97 + row) % 2,
 'predicted-move': isPredictedMove(`${col}${row}`) && !isPredictedCapture(`${col}${row}`),
 'predicted-capture': isPredictedCapture(`${col}${row}`)
 }"
@click="selectTile(`${col}${row}`)">
</div>
</template>
</div>
</template>
<div class="d-flex">
<div class="corner-label"></div>
<template x-for="col in ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']">
<div class="col-label" x-text="col"></div>
</template>
</div>
</div>
<!-- CHESS HISTORY -->
<div class="mt-4">
<h2>Move History</h2>
<div class="mb-3">
<strong>Current Player:</strong> 
<span x-text="currentPlayer === 'p1' ? 'Player 1 (White)' : 'Player 2 (Black)'"></span>
</div>
<input x-model="line" type="text" class="form-control mb-2" placeholder="Type your move here (e.g., e4, Nf3, Qxd7)..." />
<button @click="scanMove()" class="btn btn-primary mb-2">Enter Move</button>
<button @click="clearPredictions(); from = null;" class="btn btn-secondary mb-2">Clear Selection</button>
<textarea class="form-control" rows="10" readonly x-text="history"></textarea>
</div>
</div>
</body>
</html>